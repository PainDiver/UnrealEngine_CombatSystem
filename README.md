# UnrealEngine_CombatSystem
전투시스템

리소스는 깃허브 크기 제한으로 인해서 뺐습니다. 소스만 참고 바랍니다.

게임인스턴스 서브시스템을 이용해 싱글턴 패턴처럼 매니저 클래스를 만들어 자원을 관리하도록 했습니다.

애니메이션의 경우, 비주얼 적인 부분이 필요한 노티파이를 블루프린트의 개입 없이 실행시키기 위해서, 
블루프린트에서 노티파이 표시만 하고, 해당 노티파이에 대한 정보를 C++에서 찾아와 CustomNotify로 만들고 TFunction을 들게하고 있게하는 명령패턴을 이용하여
그 프레임에 노티파이에 해당하는 로직이 실행되도록 했습니다.

타임라인의 경우, 사용을 편리하게 하기 위해서 커브데이터는 매니저클래스가 관리하고 타임라인을 쉽게 실행시킬 수 있는 TimeLinePack을 만들었습니다.

무기의 경우, 확장성을 높이기 위해서 상위 무기클래스를 만들어 상속시킬 수 있도록 만들고, 고유의 hit 로직과, 기술을 오버라이딩하여 만들 수 있도록 했습니다.
컴뱃컴포넌트가 생성될 때 자동으로 무기가 생성됩니다. 이 때 템플릿을 이용하여, 쉽게 생성이 가능하도록 템플릿인자로 무기클래스 타입을 가변인자로 받아 초기화합니다. 

콤보시스템의 경우, 애니메이션 노티파이를 이용하여, 콤보가 가능해지는 구간에 노티파이, 콤보가 끝나는 구간에 노티파이를 배치하여, 연속공격을 특정시간안에 해야 콤보가 이어지도록 했습니다.

구르기, 잡기의 경우 타임라인과 커브를 이용하여 자연스러운 움직임이 가능하도록 했습니다. 이는 위 TimeLinePack을 이용하여 비교적 쉽게 사용할 수 있습니다.

락온은 특정 범위안에 들어오면 가능합니다. 이 때는, 캐릭터가 캐릭터의 좌표공간을 기준으로 인풋 벡터를 해석하게 되므로, 자연스러운 애니메이션이 가능합니다.

스포너의 경우, AI컨트롤러를 사용하는 적 액터들을 스폰합니다. 이 때, 스폰이 계속해서 되는지, 또는 스포너에서 나온 최대 머릿 수를 제한하는 지 정할 수 있습니다.
범용성을 위해 템플릿으로 작성했습니다.

BehaviorTree는 아직 개발중입니다.

